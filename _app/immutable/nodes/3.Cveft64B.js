import{s as R,b as D,n as z,r as G,c as O,o as Q,k as U}from"../chunks/scheduler.CfH2YMek.js";import{S as J,i as K,e as E,k as A,s as w,c as C,a as _,l as x,d as h,f as I,n as d,g as S,h as p,v as W,p as q,q as X,r as M,D as Y,E as Z,B as ee,x as te,y as le,z as se,A as ne}from"../chunks/index.Cf0r2nA0.js";import{b as B}from"../chunks/paths.CsFPKCUH.js";import{i as V}from"../chunks/inline-svg.action.CPrgV8CR.js";import{d as ae,w as H}from"../chunks/index.C5hTy8eg.js";import{f as re}from"../chunks/index.BGTp2OyQ.js";function N(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function P(s,e,t){const a=s.slice();return a[7]=e[t],a[9]=t,a}function j(s){let e,t,a,l,u;return{c(){e=E("div"),t=A("svg"),a=w(),this.h()},l(n){e=C(n,"DIV",{class:!0,id:!0,role:!0,tabindex:!0});var i=_(e);t=x(i,"svg",{}),_(t).forEach(h),a=I(i),i.forEach(h),this.h()},h(){d(e,"class","cell"),d(e,"id",`board-cell-${s[9]}`),d(e,"role","cell"),d(e,"tabindex","0")},m(n,i){S(n,e,i),p(e,t),p(e,a),l||(u=[D(V.call(null,t,B+"/images/counter-red-large.svg")),Z(e,"mouseenter",s[3](s[9]))],l=!0)},p(n,i){s=n},d(n){n&&h(e),l=!1,G(u)}}}function F(s){let e,t,a,l,u;return{c(){e=A("svg"),this.h()},l(n){e=x(n,"svg",{style:!0,width:!0,height:!0}),_(e).forEach(h),this.h()},h(){d(e,"style",t=`grid-area: cell-${s[1].column}`),d(e,"width","38"),d(e,"height","30")},m(n,i){S(n,e,i),l||(u=D(V.call(null,e,B+"/images/marker-red.svg")),l=!0)},p(n,i){s=n,i&2&&t!==(t=`grid-area: cell-${s[1].column}`)&&d(e,"style",t)},i(n){n&&(a||U(()=>{a=ee(e,re,{x:-s[0],duration:L,opacity:1}),a.start()}))},o:z,d(n){n&&h(e),l=!1,u()}}}function oe(s){let e,t,a,l,u,n,i,v,k=s[1].column,g,b,$=N(Array(7*6)),c=[];for(let r=0;r<$.length;r+=1)c[r]=j(P(s,$,r));let f=F(s);return{c(){e=E("div"),t=A("svg"),a=w(),l=E("div");for(let r=0;r<c.length;r+=1)c[r].c();u=w(),n=A("svg"),i=w(),v=E("div"),f.c(),this.h()},l(r){e=C(r,"DIV",{class:!0});var m=_(e);t=x(m,"svg",{class:!0,height:!0}),_(t).forEach(h),a=I(m),l=C(m,"DIV",{class:!0});var o=_(l);for(let T=0;T<c.length;T+=1)c[T].l(o);o.forEach(h),u=I(m),n=x(m,"svg",{class:!0}),_(n).forEach(h),i=I(m),v=C(m,"DIV",{class:!0});var y=_(v);f.l(y),y.forEach(h),m.forEach(h),this.h()},h(){d(t,"class","shadow"),d(t,"height","594"),d(l,"class","cells"),d(n,"class","overlay"),d(v,"class","board-cursor"),d(e,"class","board svelte-1868om7")},m(r,m){S(r,e,m),p(e,t),p(e,a),p(e,l);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(l,null);p(e,u),p(e,n),p(e,i),p(e,v),f.m(v,null),g||(b=[D(V.call(null,t,B+"/images/board-layer-black-large.svg")),D(V.call(null,n,B+"/images/board-layer-white-large.svg"))],g=!0)},p(r,[m]){if(m&8){$=N(Array(7*6));let o;for(o=0;o<$.length;o+=1){const y=P(r,$,o);c[o]?c[o].p(y,m):(c[o]=j(y),c[o].c(),c[o].m(l,null))}for(;o<c.length;o+=1)c[o].d(1);c.length=$.length}m&2&&R(k,k=r[1].column)?(W(),q(f,1,1,z),X(),f=F(r),f.c(),M(f,1),f.m(v,null)):f.p(r,m)},i(r){M(f)},o(r){q(f)},d(r){r&&h(e),Y(c,r),f.d(r),g=!1,G(b)}}}let L=200;function ce(s,e,t){let a;const l=H(0),u=H(0);let n=0;const i=ae([l,u],([g,b])=>({column:g,prevColumn:b}));O(s,i,g=>t(1,a=g)),Q(()=>{i.subscribe(({column:g,prevColumn:b})=>{const $=document.getElementById(`board-cell-${b}`).getClientRects()[0],c=document.getElementById(`board-cell-${g}`).getClientRects()[0];t(0,n=c.x-$.x)})});let v=-1;function k(g){return()=>{clearTimeout(v),v=setTimeout(()=>{l.update(b=>(u.set(b),g%7))},L)}}return[n,a,i,k]}class ie extends J{constructor(e){super(),K(this,e,ce,oe,R,{})}}function ue(s){let e,t,a;return t=new ie({}),{c(){e=E("main"),te(t.$$.fragment),this.h()},l(l){e=C(l,"MAIN",{class:!0});var u=_(e);le(t.$$.fragment,u),u.forEach(h),this.h()},h(){d(e,"class","svelte-bts22h")},m(l,u){S(l,e,u),se(t,e,null),a=!0},p:z,i(l){a||(M(t.$$.fragment,l),a=!0)},o(l){q(t.$$.fragment,l),a=!1},d(l){l&&h(e),ne(t)}}}function me(s){return[]}class _e extends J{constructor(e){super(),K(this,e,me,ue,R,{})}}export{_e as component};
